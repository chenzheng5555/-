# c语言网络编程

socket编程。

![20180703151635777](img/20180703151635777.png)

结构体

```c
struct in_addr  {    
    in_addr_t s_addr;       /*32 位 IP 地址，网络字节序*/  
}; 

struct sockaddr_in  {    
    uint8 sin_len;    
    sa_family_t sin_family;    
    in_port_t sin_port;              /*16 位端口号，网络字节序*/    
    struct in_addr sin_addr;             
    char sin_zero[8];                /*备用的域，未使用*/  
};
```

函数

```c
/*  函数所需头文件及其原型 */
#include <sys/socket.h>
int socket( int family, int type, int protocol);
socketfd = soket(AF_INET, SOCK_STREAM, 0);
/*  socketfd 作为返回值，可以记作描述符。
 若 socketfd 非负则表示成功，为负则表示失败。
 参数：
     family   -> 指明协议族
     type     -> 字节流类型
     protocol -> 一般置0.
 参数 family 的取值范围是：  
     AF_LOCAL    UNIX 协议族 
     AF_ROUTE    路由套接口  
        AF_INET      IPv4 协议  
        AF_INET6    IPv6 协议  
        AF_KEY       密钥套接口
    参数 type 的取值范围：   
        SOCK_STREAM   TCP 套接口  
        SOCK_DGRAM    UDP 套接口  
        SOCK_PACKET   支持数据链路访问  
        SOCK_RAM      原始套接口 
*/

```

