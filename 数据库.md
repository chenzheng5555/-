# mysql

## 启动服务

centOS使用`systemctl`启动、关闭、重启服务`mysqld`。然后会自动取调用mysqld.service

```shell
systemctl enable mysqld   #允许mysql自启动，start\stop\restart
systemctl list-unit-files |grep mysql  #查看自启动程序列表
mysql -u root -h localhost -p  #登录mysql
```

## 用户管理

+ 新增用户：`insert into user (host,user,ssl_cipher,x509_issuer,x509_subject) values('%','admin','','','');`;
  + `ssl_cipher,x509_issuer,x509_subject`这三个字段必须有。取消了`password`字段。
  + 不支持`grant`添加用户。
+ 修改权限：新增用户后，需要刷新数据库`flush privileges;`后，再进行`GRANT ALL PRIVILEGES ON *.* TO 'admin'@'%';`

![image-20210320205155906](img/image-20210320205155906.png)

+ 远程连接：需要修改用户的host为客户端的ip或者`%`，同时还要让防火墙开通3306端口。

  ```shell
  firewall-cmd --zone=public --add-port=3306/tcp --permanent  #开通3306端口
  firewall-cmd --list-ports  #查看开通的端口
  ```


## 表操作

