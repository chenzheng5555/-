# git

版本控制：本地$\longrightarrow$集中$\longrightarrow$分布式。[官方文档](https://git-scm.com/book/zh/v2)

## 配置

1. `gitconfig`文件——对应`--system`：

1. `.gitconfig`文件——对应`--global`：`core.editor、user.name、user.email`
2. 仓库里的`config`文件——对应`--local`：

```shell
git config --list --show-origin  #显示所有配置信息和文件
git config --global <key> [val]  #将某个key的值设为val，无val表示获取key的值
```

+ 获取帮助

```shell
git help <verb>  #获取vecb命令的在线帮助文档manpage
git <verb> -h    #获取简洁的帮助
```

+ 忽略文件，使用`.gitignore`文件 ，格式规范如下：
  + 注释：所有空行或者以 `#` 开头的行都会被 Git 忽略。
  + 可以使用标准的 glob 模式匹配（**正则表达式**），它会递归地应用在整个工作区中。
  + 匹配模式可以以（`/`）开头防止递归。
  + 匹配模式可以以（`/`）结尾指定目录。
  + 取反：要忽略指定模式以外的文件或目录，可以在模式前加上叹号（`!`）取反。

```shell
# 忽略所有的 .a 文件
*.a
# 但跟踪所有的 lib.a，即便你在前面忽略了 .a 文件
!lib.a
# 只忽略当前目录下的 TODO 文件，而不忽略 subdir/TODO
/TODO
# 忽略任何目录下名为 build 的文件夹
build/
# 忽略 doc/notes.txt，但不忽略 doc/server/arch.txt
doc/*.txt
# 忽略 doc/ 目录及其所有子目录下的 .pdf 文件
doc/**/*.pdf
```

## 操作

![lifecycle](工具/lifecycle.png)

1. 初始化：1）本地：`git init`，2）克隆：`git clone`本地master分支跟踪远程master分支。

2. **记录操作**：

   ```shell
   git status  #查看状态 --short(-s)简短信息
   git diff    #查看未暂缓文件的修改的地方  --staged(--cached) 暂存和上一次提交间的差别
   git log     #查看提交日志 --patch(-p)显示每次提交所引入的差异 --stat统计信息 -n前n次提交
   
   git add <file>   	     #跟踪（暂存）文件, git add .跟踪所有修改了文件
   git commit -m "提交说明"  #提交暂存的修改  -a提交所有修改（包括未暂存的） --amend补交，覆盖刚刚的提交
   git reset HEAD <file>    #取消暂存文件
   git checkout -- <file>   #撤销文件的修改
   
   git rm <file>  			 #记录删除文件的操作  -f强制从暂存中删除  --cached从暂存中删除，文件保留
   git mv <name> <newname>  #更改暂存区里文件的名字
   ```

3. **远程操作**：

   ```shell
   git remote #查看已经配置的远程仓库服务器 -v简写与其对应的URL；show <remote> 显示remote远程仓库信息
   git remote add <shortname> <url>  #添加一个新的远程Git仓库
   git fetch <remote>                #从remote远程中 拉取所有你还没有的数据 只会将数据下载到你的本地仓库 不合并
   git pull                      #本地分支跟踪了远程分支， 拉取
   git push <remote> <branch>    #将本地分支推送到remote的branch分支
   
   git remote rename <remote> <newname> #修改一个远程仓库的简写名
   git remote remove <remote>           #移除远程仓库
   ```

4. 











# markdown

